<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Souk | AI-Powered Commerce</title>
    <!-- 1. Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- 2. Custom Fonts & Styles (from React file) -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Space+Grotesk:wght@500;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0a0a10; /* bg-gray-950 */
        }
        
        .font-display { 
            font-family: 'Space Grotesk', sans-serif; 
        }
        
        .line-clamp-2 {
            overflow: hidden;
            display: -webkit-box;
            -webkit-box-orient: vertical;
            -webkit-line-clamp: 2;
        }
        
        /* Custom prose styles for case study */
        .prose-invert h2 {
            font-size: 1.875rem; /* 30px */
            line-height: 2.25rem; /* 36px */
            font-weight: 700;
            margin-bottom: 1.5em;
            color: #ffffff;
            font-family: 'Space Grotesk', sans-serif;
        }
        
        .prose-invert p, .prose-invert li {
            font-size: 1.125rem; /* 18px */
            line-height: 1.777; /* 32px */
            color: #d1d5db; /* gray-300 */
        }

        .prose-invert ul {
            list-style-type: disc;
            padding-left: 1.5em;
        }
        
        /* Simple page transition */
        [data-page] {
            animation: fadeIn 0.3s ease-in-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* Ensure appearance-none works */
        select.appearance-none {
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2220%22%20height%3D%2220%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22m6%208%204%204%204-4%22%2F%3E%3C%2Fsvg%3E');
            background-position: right 0.5rem center;
            background-repeat: no-repeat;
            background-size: 1.5em 1.5em;
            padding-right: 2.5rem;
        }
    </style>
</head>
<body class="bg-gray-950 min-h-screen">

    <!-- Particle Background Canvas -->
    <canvas id="particle-canvas" class="fixed top-0 left-0 w-full h-full -z-10" style="opacity: 0.15;"></canvas>

    <!-- Header -->
    <header class="fixed top-0 left-0 w-full z-50 bg-black/30 backdrop-blur-md" id="main-header">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo -->
                <a href="#" onclick="setPage('home', event)" class="font-display text-2xl font-bold text-white" style="font-family: 'Space Grotesk', sans-serif;">
                    My Souk
                </a>

                <!-- Desktop Navigation -->
                <nav class="hidden md:flex items-center space-x-6">
                    <a href="#" onclick="setPage('work', event)" class="relative py-2 text-sm font-medium text-gray-300 transition-colors duration-300 hover:text-white group">
                        Work
                        <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-gradient-to-r from-blue-400 via-purple-400 to-green-400 transition-all duration-300 group-hover:w-full"></span>
                    </a>
                    <a href="#" onclick="setPage('about', event)" class="relative py-2 text-sm font-medium text-gray-300 transition-colors duration-300 hover:text-white group">
                        About
                        <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-gradient-to-r from-blue-400 via-purple-400 to-green-400 transition-all duration-300 group-hover:w-full"></span>
                    </a>
                    <div id="services-menu-trigger">
                        <a href="#" onclick="setPage('services', event)" class="relative py-2 text-sm font-medium text-gray-300 transition-colors duration-300 hover:text-white group flex items-center gap-1">
                            Services
                            <!-- ChevronDown SVG -->
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <polyline points="6 9 12 15 18 9"></polyline>
                            </svg>
                            <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-gradient-to-r from-blue-400 via-purple-400 to-green-400 transition-all duration-300 group-hover:w-full"></span>
                        </a>
                    </div>
                    <a href="#" onclick="setPage('thinking', event)" class="relative py-2 text-sm font-medium text-gray-300 transition-colors duration-300 hover:text-white group">
                        Thinking
                        <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-gradient-to-r from-blue-400 via-purple-400 to-green-400 transition-all duration-300 group-hover:w-full"></span>
                    </a>
                    <a href="#" onclick="setPage('careers', event)" class="relative py-2 text-sm font-medium text-gray-300 transition-colors duration-300 hover:text-white group">
                        Careers
                        <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-gradient-to-r from-blue-400 via-purple-400 to-green-400 transition-all duration-300 group-hover:w-full"></span>
                    </a>
                    <a href="#" onclick="setPage('contact', event)" class="px-4 py-2 text-sm font-medium text-black bg-white rounded-full hover:bg-gray-200 transition-colors duration-300">
                        Contact
                    </a>
                </nav>
                
                <!-- Mobile Menu Button -->
                <div class="md:hidden">
                    <button id="mobile-menu-button" class="text-white" aria-label="Toggle menu">
                        <!-- Menu SVG -->
                        <svg id="mobile-menu-icon-open" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <line x1="3" y1="12" x2="21" y2="12"></line>
                            <line x1="3" y1="6" x2="21" y2="6"></line>
                            <line x1="3" y1="18" x2="21" y2="18"></line>
                        </svg>
                        <!-- X SVG -->
                        <svg id="mobile-menu-icon-close" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="hidden">
                            <line x1="18" y1="6" x2="6" y2="18"></line>
                            <line x1="6" y1="6" x2="18" y2="18"></line>
                        </svg>
                    </button>
                </div>
            </div>
        </div>

        <!-- Mega Menu (Desktop) -->
        <div id="mega-menu" class="absolute top-full left-0 w-full bg-black/50 backdrop-blur-lg shadow-lg border-t border-gray-800 hidden">
            <div class="max-w-7xl mx-auto px-6 py-8">
                <div class="grid grid-cols-1 md:grid-cols-4 gap-8" id="mega-menu-content">
                    <!-- Content will be injected by JS -->
                </div>
            </div>
        </div>

        <!-- Mobile Menu (Full screen) -->
        <div id="mobile-menu" class="fixed inset-0 bg-gray-950 z-40 md:hidden p-6 pt-20 hidden">
            <nav class="flex flex-col space-y-6">
                <a href="#" onclick="setPage('work', event)" class="text-2xl font-medium text-white">Work</a>
                <a href="#" onclick="setPage('about', event)" class="text-2xl font-medium text-white">About</a>
                <a href="#" onclick="setPage('services', event)" class="text-2xl font-medium text-white">Services</a>
                <a href="#" onclick="setPage('thinking', event)" class="text-2xl font-medium text-white">Thinking</a>
                <a href="#" onclick="setPage('careers', event)" class="text-2xl font-medium text-white">Careers</a>
                <a href="#" onclick="setPage('contact', event)" class="mt-4 px-6 py-3 text-lg text-center font-medium text-black bg-white rounded-full">
                    Contact
                </a>
            </nav>
        </div>
    </header>

    <!-- Main Content Area -->
    <main class="relative z-10">
        
        <!-- Home Page -->
        <div id="page-home" data-page="home" class="relative min-h-screen flex items-center justify-center text-white overflow-hidden pt-16">
            <div class="relative z-10 max-w-4xl mx-auto px-6 text-center">
                <!-- Headline -->
                <h1 class="font-display text-5xl md:text-7xl font-extrabold mb-6" style="font-family: 'Space Grotesk', sans-serif;">
                    <span class="bg-clip-text text-transparent bg-gradient-to-r from-blue-400 via-purple-500 to-green-400">
                        AI-Powered Commerce
                    </span>
                    <br>
                    for Offline Businesses.
                </h1>
        
                <!-- Subhead -->
                <p class="text-lg md:text-xl text-gray-300 max-w-2xl mx-auto mb-10">
                    We help small & mid-size offline businesses scale online with autonomous AI agents and performance growth loops.
                </p>
        
                <!-- CTAs -->
                <div class="flex flex-col sm:flex-row gap-4 justify-center">
                    <a href="#" onclick="setPage('contact', event)" class="px-8 py-3 font-semibold text-black bg-white rounded-full text-lg hover:bg-gray-200 transition-colors duration-300">
                        Let's Talk
                    </a>
                    <a href="#" onclick="setPage('work', event)" class="group px-8 py-3 font-semibold text-white bg-white/10 backdrop-blur-sm border border-white/20 rounded-full text-lg transition-colors duration-300 hover:bg-white/20">
                        See Our Work
                        <!-- ArrowRight SVG -->
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block -translate-y-0.5 ml-1 group-hover:translate-x-1 transition-transform">
                            <line x1="5" y1="12" x2="19" y2="12"></line>
                            <polyline points="12 5 19 12 12 19"></polyline>
                        </svg>
                    </a>
                </div>
                
                <!-- Social Proof Tiles -->
                <div class="mt-16 grid grid-cols-2 md:grid-cols-4 gap-4 max-w-2xl mx-auto">
                    <div class="bg-gray-800/50 backdrop-blur-sm border border-gray-700 rounded-lg p-4 text-center">
                        <div class="font-display text-2xl md:text-3xl font-bold text-green-400" style="font-family: 'Space Grotesk', sans-serif;">
                            3.5x
                        </div>
                        <div class="text-sm text-gray-400">Revenue Growth</div>
                    </div>
                    <div class="bg-gray-800/50 backdrop-blur-sm border border-gray-700 rounded-lg p-4 text-center">
                        <div class="font-display text-2xl md:text-3xl font-bold text-green-400" style="font-family: 'Space Grotesk', sans-serif;">
                            24/7
                        </div>
                        <div class="text-sm text-gray-400">AI Support</div>
                    </div>
                    <div class="bg-gray-800/50 backdrop-blur-sm border border-gray-700 rounded-lg p-4 text-center">
                        <div class="font-display text-2xl md:text-3xl font-bold text-green-400" style="font-family: 'Space Grotesk', sans-serif;">
                            98%
                        </div>
                        <div class="text-sm text-gray-400">Ops Automation</div>
                    </div>
                    <div class="bg-gray-800/50 backdrop-blur-sm border border-gray-700 rounded-lg p-4 text-center">
                        <div class="font-display text-2xl md:text-3xl font-bold text-green-400" style="font-family: 'Space Grotesk', sans-serif;">
                            +240%
                        </div>
                        <div class="text-sm text-gray-400">ROAS</div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Work Page -->
        <div id="page-work" data-page="work" class="min-h-screen pt-16 text-white hidden">
            <!-- Filter Bar -->
            <div class="sticky top-16 bg-gray-950/80 backdrop-blur-lg z-30 py-4 mb-8">
                <div class="max-w-7xl mx-auto px-6 lg:px-8">
                    <div class="flex flex-col md:flex-row gap-4 justify-between items-center">
                        <!-- Search Bar -->
                        <div class="relative w-full md:w-auto">
                            <input id="filter-search" type="text" placeholder="Search projects..." class="w-full md:w-64 pl-10 pr-4 py-2 rounded-full bg-gray-800 text-white border border-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <!-- Search SVG -->
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400">
                                <circle cx="11" cy="11" r="8"></circle>
                                <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                            </svg>
                        </div>
                        
                        <!-- Filters -->
                        <div class="hidden md:flex flex-wrap gap-3" id="filters-desktop">
                            <!-- Desktop filters injected by JS -->
                        </div>
                        
                        <!-- Mobile Filter Button -->
                        <button id="mobile-filter-button" class="md:hidden w-full flex justify-center items-center gap-2 px-4 py-2 rounded-full bg-gray-800 text-white border border-gray-700">
                            <!-- Filter SVG -->
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"></polygon>
                            </svg>
                            Filters <span id="mobile-filter-count">(0)</span>
                        </button>
                    </div>
                </div>
                
                <!-- Mobile Filter Modal -->
                <div id="mobile-filter-modal" class="fixed inset-0 bg-black/50 z-50 flex items-end hidden" onclick="toggleMobileFilters(false)">
                    <div class="w-full bg-gray-900 p-6 rounded-t-2xl" onclick="event.stopPropagation()">
                        <div class="flex justify-between items-center mb-6">
                            <h3 class="text-xl font-bold text-white">Filters</h3>
                            <button class="text-white" onclick="toggleMobileFilters(false)">
                                <!-- X SVG -->
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <line x1="18" y1="6" x2="6" y2="18"></line>
                                    <line x1="6" y1="6" x2="18" y2="18"></line>
                                </svg>
                            </button>
                        </div>
                        <div class="space-y-4" id="filters-mobile">
                            <!-- Mobile filters injected by JS -->
                        </div>
                        <button onclick="toggleMobileFilters(false)" class="w-full mt-6 py-3 bg-blue-600 text-white rounded-lg font-semibold">
                            Apply Filters
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Work Grid -->
            <main class="max-w-7xl mx-auto px-6 lg:px-8 py-8">
                <div id="work-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- Case cards injected by JS -->
                </div>
                <div id="work-empty-state" class="hidden col-span-full text-center py-16">
                    <h3 class="text-2xl font-bold text-white mb-2">No projects found</h3>
                    <p class="text-gray-400 mb-4">Try adjusting your filters or search terms.</p>
                    <button id="reset-filters-button" class="px-6 py-2 font-semibold text-black bg-white rounded-full text-md hover:bg-gray-200 transition-colors duration-300">
                        Reset Filters
                    </button>
                </div>
            </main>
        </div>
        
        <!-- Case Study Page -->
        <div id="page-case-study" data-page="case-study" class="min-h-screen text-white pt-16 hidden">
            <!-- 1. Hero -->
            <div class="relative h-[70vh] flex items-center justify-center">
                <img id="case-hero-image" src="" alt="" class="absolute inset-0 w-full h-full object-cover">
                <div class="absolute inset-0 bg-black/60"></div>
                <div class="relative z-10 text-center p-6">
                    <h2 id="case-client" class="text-lg font-semibold text-gray-300"></h2>
                    <h1 id="case-title" class="font-display text-4xl md:text-6xl font-bold text-white mt-2" style="font-family: 'Space Grotesk', sans-serif;"></h1>
                    <p id="case-summary" class="text-2xl font-bold text-green-400 mt-4"></p>
                </div>
            </div>
            
            <!-- 2. Stats Bar -->
            <div class="bg-gray-900 border-y border-gray-800">
                <div class="max-w-5xl mx-auto grid grid-cols-2 md:grid-cols-4 gap-4 text-center py-8 px-6">
                    <!-- Mock stats -->
                    <div class="border-r border-gray-700 last:border-r-0">
                        <div class="text-3xl font-bold text-green-400">+3.5x</div>
                        <div class="text-sm text-gray-400">ROAS</div>
                    </div>
                    <div class="border-r border-gray-700 last:border-r-0">
                        <div class="text-3xl font-bold text-green-400">98%</div>
                        <div class="text-sm text-gray-400">CSAT</div>
                    </div>
                    <div class="border-r border-gray-700 last:border-r-0">
                        <div class="text-3xl font-bold text-green-400">24/7</div>
                        <div class="text-sm text-gray-400">AI Support</div>
                    </div>
                    <div>
                        <div class="text-3xl font-bold text-green-400">+32%</div>
                        <div class="text-sm text-gray-400">Conversion</div>
                    </div>
                </div>
            </div>
        
            <!-- 3. Content Sections -->
            <div class="max-w-3xl mx-auto px-6 py-16 space-y-12">
                <div class="prose prose-invert lg:prose-xl">
                    <section>
                        <h2>The Challenge</h2>
                        <p>A detailed description of the business problem. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed non risus. Suspendisse lectus tortor, dignissim sit amet, adipiscing nec, ultricies sed, dolor.</p>
                    </section>
                    <section>
                        <h2>Insight & Strategy</h2>
                        <p>Our analysis and strategic approach. Cras elementum ultrices diam. Maecenas ligula massa, varius a, semper congue, euismod non, mi. Proin porttitor, orci nec nonummy molestie, enim est eleifend mi, non fermentum diam nisl sit amet erat.</p>
                    </section>
                    <section>
                        <h2>Solution</h2>
                        <p>How My Souk’s AI agents and automations solved the problem. Duis ac turpis. Integer rutrum ante eu lacus. Quisque nulla. Vestibulum libero nisl, porta vel, scelerisque eget, malesuada at, neque.</p>
                        <ul>
                            <li>Autonomous AI agent deployment</li>
                            <li>WhatsApp & Telegram integration</li>
                            <li>Real-time Google Sheets sync</li>
                        </ul>
                    </section>
                    <section>
                        <h2>Results</h2>
                        <p>The final metrics and outcomes. Vivamus eget nibh. Etiam cursus leo vel metus. Nulla facilisi. Aenean nec eros. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Suspendisse sollicitudin velit sed leo.</p>
                    </section>
                </div>
        
                <!-- 4. Testimonial -->
                <div class="bg-gray-900 border border-gray-800 rounded-xl p-8 text-center">
                    <p class="text-2xl font-medium text-white italic">"My Souk's AI agents transformed our customer service overnight. We've never seen results like this."</p>
                    <p id="case-testimonial-name" class="mt-4 font-semibold text-green-400">Client Name</p>
                    <p id="case-testimonial-role" class="text-sm text-gray-400">CEO, Client</p>
                </div>
            </div>
        
            <!-- 5. Next/Prev Nav -->
            <div class="border-t border-gray-800 grid grid-cols-1 md:grid-cols-2">
                <a href="#" id="case-prev" class="group relative p-8 text-left border-r border-gray-800 hidden">
                    <span class="block text-sm text-gray-400 mb-1">Previous</span>
                    <span id="case-prev-title" class="block text-xl font-bold text-white group-hover:text-green-400 transition-colors"></span>
                </a>
                <div id="case-prev-placeholder" class="border-r border-gray-800"></div>
                <a href="#" id="case-next" class="group relative p-8 text-right hidden">
                    <span class="block text-sm text-gray-400 mb-1">Next</span>
                    <span id="case-next-title" class="block text-xl font-bold text-white group-hover:text-green-400 transition-colors"></span>
                </a>
            </div>
            <div class="text-center py-8 border-t border-gray-800">
                <a href="#" onclick="setPage('work', event)" class="font-semibold text-white hover:text-green-400 transition-colors">
                    Back to All Work
                </a>
            </div>
        </div>
        
        <!-- About Page -->
        <div id="page-about" data-page="about" class="min-h-screen text-white pt-32 hidden">
            <div class="max-w-4xl mx-auto px-6 py-16 text-center">
                <h1 class="font-display text-5xl md:text-6xl font-extrabold mb-4">About My Souk</h1>
                <p class="text-lg md:text-xl text-gray-300 max-w-2xl mx-auto">We're a small group capable of big development.</p>
            </div>
            <div class="max-w-5xl mx-auto px-6 py-16">
                <div class="grid md:grid-cols-2 gap-16 items-center">
                    <div>
                        <h2 class="font-display text-3xl font-bold text-white mb-4">Our Philosophy</h2>
                        <p class="text-gray-300 text-lg mb-4">We believe in a hands-on approach. As founders, we are personally involved in every project, ensuring quality, speed, and a direct line of communication. No project managers, no diluted vision. Just pure, focused development from concept to launch.</p>
                        <p class="text-gray-300 text-lg">You get the expertise of senior-level founders working directly on your business.</p>
                    </div>
                    <div>
                        <h2 class="font-display text-3xl font-bold text-white mb-6 text-center md:text-left">Meet the Founders</h2>
                        <div class="space-y-6">
                            <!-- Founder Card 1 -->
                            <div class="bg-gray-800/50 backdrop-blur-sm border border-gray-700 rounded-lg p-6 flex items-center space-x-4">
                                <img src="https://placehold.co/80x80/1a1a2e/e0e0e0?text=PP" alt="Pranil Patil" class="w-20 h-20 rounded-full border-2 border-green-400">
                                <div>
                                    <h3 class="font-display text-xl font-bold text-white">Pranil Patil</h3>
                                    <p class="text-gray-400">Co-Founder & Lead Architect</p>
                                </div>
                            </div>
                            <!-- Founder Card 2 -->
                            <div class="bg-gray-800/50 backdrop-blur-sm border border-gray-700 rounded-lg p-6 flex items-center space-x-4">
                                <img src="https://placehold.co/80x80/1a1a2e/e0e0e0?text=AJ" alt="Anirudh Jindal" class="w-20 h-20 rounded-full border-2 border-blue-400">
                                <div>
                                    <h3 class="font-display text-xl font-bold text-white">Anirudh Jindal</h3>
                                    <p class="text-gray-400">Co-Founder & Growth Strategist</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Services Page -->
        <div id="page-services" data-page="services" class="min-h-screen text-white pt-32 hidden">
            <div class="max-w-4xl mx-auto px-6 py-16 text-center">
                <h1 class="font-display text-5xl md:text-6xl font-extrabold mb-4">Our Services</h1>
                <p class="text-lg md:text-xl text-gray-300 max-w-2xl mx-auto">AI and automation to scale your business.</p>
            </div>
            <div class="max-w-6xl mx-auto px-6 py-16 grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Service Cards -->
                <div class="bg-gray-800/50 backdrop-blur-sm border border-gray-700 rounded-lg p-6">
                    <h3 class="font-display text-2xl font-bold text-white mb-3">AI Customer Support</h3>
                    <p class="text-gray-400 mb-4">24/7 autonomous agents to handle customer queries.</p>
                    <a href="#" onclick="setPage('contact', event)" class="font-semibold text-green-400 hover:text-green-300">Learn More &rarr;</a>
                </div>
                <div class="bg-gray-800/50 backdrop-blur-sm border border-gray-700 rounded-lg p-6">
                    <h3 class="font-display text-2xl font-bold text-white mb-3">Predictive Sales AI</h3>
                    <p class="text-gray-400 mb-4">Analyze data to predict sales trends and customer behavior.</p>
                    <a href="#" onclick="setPage('contact', event)" class="font-semibold text-green-400 hover:text-green-300">Learn More &rarr;</a>
                </div>
                <div class="bg-gray-800/50 backdrop-blur-sm border border-gray-700 rounded-lg p-6">
                    <h3 class="font-display text-2xl font-bold text-white mb-3">Operations Automation</h3>
                    <p class="text-gray-400 mb-4">Sync inventory, orders, and POS data automatically.</p>
                    <a href="#" onclick="setPage('contact', event)" class="font-semibold text-green-400 hover:text-green-300">Learn More &rarr;</a>
                </div>
                <div class="bg-gray-800/50 backdrop-blur-sm border border-gray-700 rounded-lg p-6">
                    <h3 class="font-display text-2xl font-bold text-white mb-3">Telegram & WhatsApp Commerce</h3>
                    <p class="text-gray-400 mb-4">Engage and sell directly where your customers are.</p>
                    <a href="#" onclick="setPage('contact', event)" class="font-semibold text-green-400 hover:text-green-300">Learn More &rarr;</a>
                </div>
                <div class="bg-gray-800/50 backdrop-blur-sm border border-gray-700 rounded-lg p-6">
                    <h3 class="font-display text-2xl font-bold text-white mb-3">Google Sheets / POS Sync</h3>
                    <p class="text-gray-400 mb-4">Keep your data in sync without manual entry.</p>
                    <a href="#" onclick="setPage('contact', event)" class="font-semibold text-green-400 hover:text-green-300">Learn More &rarr;</a>
                </div>
                <div class="bg-gray-800/50 backdrop-blur-sm border border-gray-700 rounded-lg p-6">
                    <h3 class="font-display text-2xl font-bold text-white mb-3">Local SEO + Performance Media</h3>
                    <p class="text-gray-400 mb-4">Drive targeted, local traffic that converts.</p>
                    <a href="#" onclick="setPage('contact', event)" class="font-semibold text-green-400 hover:text-green-300">Learn More &rarr;</a>
                </div>
            </div>
        </div>

        <!-- Thinking Page -->
        <div id="page-thinking" data-page="thinking" class="min-h-screen text-white pt-32 hidden">
            <div class="max-w-4xl mx-auto px-6 py-16 text-center">
                <h1 class="font-display text-5xl md:text-6xl font-extrabold mb-4">Thinking</h1>
                <p class="text-lg md:text-xl text-gray-300 max-w-2xl mx-auto">Our insights on AI, commerce, and growth. Coming soon.</p>
            </div>
            <div class="max-w-6xl mx-auto px-6 py-16 grid md:grid-cols-2 lg:grid-cols-3 gap-8 opacity-60">
                <!-- Placeholder Blog Cards -->
                <div class="bg-gray-800/50 backdrop-blur-sm border border-gray-700 rounded-lg">
                    <div class="h-40 bg-gray-700 rounded-t-lg flex items-center justify-center">
                        <span class="text-gray-500">Blog Image</span>
                    </div>
                    <div class="p-6">
                        <p class="text-sm text-gray-400 mb-2">Nov 01, 2025</p>
                        <h3 class="font-display text-xl font-bold text-white mb-3">The Future of Retail is Autonomous</h3>
                        <p class="text-gray-400 hover:text-white transition-colors">Read more &rarr;</p>
                    </div>
                </div>
                <div class="bg-gray-800/50 backdrop-blur-sm border border-gray-700 rounded-lg">
                    <div class="h-40 bg-gray-700 rounded-t-lg flex items-center justify-center">
                         <span class="text-gray-500">Blog Image</span>
                    </div>
                    <div class="p-6">
                        <p class="text-sm text-gray-400 mb-2">Oct 28, 2025</p>
                        <h3 class="font-display text-xl font-bold text-white mb-3">Why Your SMB Needs a Custom AI Agent</h3>
                        <p class="text-gray-400 hover:text-white transition-colors">Read more &rarr;</p>
                    </div>
                </div>
                <div class="bg-gray-800/50 backdrop-blur-sm border border-gray-700 rounded-lg">
                    <div class="h-40 bg-gray-700 rounded-t-lg flex items-center justify-center">
                         <span class="text-gray-500">Blog Image</span>
                    </div>
                    <div class="p-6">
                        <p class="text-sm text-gray-400 mb-2">Oct 25, 2025</p>
                        <h3 class="font-display text-xl font-bold text-white mb-3">Growth Loops for Offline Businesses</h3>
                        <p class="text-gray-400 hover:text-white transition-colors">Read more &rarr;</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Careers Page -->
        <div id="page-careers" data-page="careers" class="min-h-screen text-white pt-32 hidden">
            <div class="max-w-4xl mx-auto px-6 py-16 text-center">
                <h1 class="font-display text-5xl md:text-6xl font-extrabold mb-4">Careers</h1>
                <p class="text-lg md:text-xl text-gray-300 max-w-2xl mx-auto">Help us build the future of autonomous commerce.</p>
            </div>
            <div class="max-w-4xl mx-auto px-6 py-16">
                <h2 class="font-display text-3xl font-bold text-white mb-8 text-center">Open Roles</h2>
                <div class="space-y-4">
                    <!-- Job Opening -->
                    <div class="bg-gray-800/50 backdrop-blur-sm border border-gray-700 rounded-lg p-6 flex flex-col md:flex-row justify-between md:items-center">
                        <div>
                            <h3 class="font-display text-xl font-bold text-white">AI/ML Engineer</h3>
                            <p class="text-gray-400">Remote (India)</p>
                        </div>
                        <a href="#" onclick="setPage('contact', event)" class="mt-4 md:mt-0 px-6 py-2 text-center font-semibold text-black bg-white rounded-full text-md hover:bg-gray-200 transition-colors">Apply</a>
                    </div>
                    <!-- Job Opening -->
                    <div class="bg-gray-800/50 backdrop-blur-sm border border-gray-700 rounded-lg p-6 flex flex-col md:flex-row justify-between md:items-center">
                        <div>
                            <h3 class="font-display text-xl font-bold text-white">Full-Stack Developer (React/Python)</h3>
                            <p class="text-gray-400">Remote (India)</p>
                        </div>
                        <a href="#" onclick="setPage('contact', event)" class="mt-4 md:mt-0 px-6 py-2 text-center font-semibold text-black bg-white rounded-full text-md hover:bg-gray-200 transition-colors">Apply</a>
                    </div>
                </div>
                
                <h2 class="font-display text-3xl font-bold text-white mt-20 mb-8 text-center">More Opportunities</h2>
                <div class="flex flex-col md:flex-row gap-4 justify-center">
                    <!-- YouTube Button -->
                    <a href="#" class="group px-8 py-3 text-center font-semibold text-white bg-red-600/90 backdrop-blur-sm border border-red-500 rounded-full text-lg transition-colors duration-300 hover:bg-red-500">
                        YouTube Section
                    </a>
                    <!-- Internship Button -->
                    <a href="#" class="group px-8 py-3 text-center font-semibold text-white bg-blue-600/90 backdrop-blur-sm border border-blue-500 rounded-full text-lg transition-colors duration-300 hover:bg-blue-500">
                        Internship Section
                    </a>
                </div>
            </div>
        </div>

        <!-- Contact Page -->
        <div id="page-contact" data-page="contact" class="min-h-screen text-white pt-32 hidden">
            <div class="max-w-4xl mx-auto px-6 py-16 text-center">
                <h1 class="font-display text-5xl md:text-6xl font-extrabold mb-4">Let's Talk</h1>
                <p class="text-lg md:text-xl text-gray-300 max-w-2xl mx-auto">Ready to scale? We're ready to help.</p>
            </div>
            <div class="max-w-2xl mx-auto px-6 pb-32">
                <form action="#" method="POST" class="space-y-6" onsubmit="event.preventDefault(); alert('Form submitted (simulation).');">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label for="first-name" class="block text-sm font-medium text-gray-300 mb-1">First Name</label>
                            <input type="text" id="first-name" class="w-full py-3 px-4 rounded-lg bg-gray-800 text-white border border-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div>
                            <label for="last-name" class="block text-sm font-medium text-gray-300 mb-1">Last Name</label>
                            <input type="text" id="last-name" class="w-full py-3 px-4 rounded-lg bg-gray-800 text-white border border-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                    </div>
                    <div>
                        <label for="email" class="block text-sm font-medium text-gray-300 mb-1">Email</label>
                        <input type="email" id="email" class="w-full py-3 px-4 rounded-lg bg-gray-800 text-white border border-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                    </div>
                    <div>
                        <label for="company" class="block text-sm font-medium text-gray-300 mb-1">Company</label>
                        <input type="text" id="company" class="w-full py-3 px-4 rounded-lg bg-gray-800 text-white border border-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>
                    <div>
                        <label for="budget" class="block text-sm font-medium text-gray-300 mb-1">Budget (INR)</label>
                        <select id="budget" class="w-full py-3 px-4 rounded-lg bg-gray-800 text-white border border-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 appearance-none">
                            <option value="">Select a range</option>
                            <option value="50k-1L">₹50,000 - ₹1,00,000</option>
                            <option value="1L-3L">₹1,00,000 - ₹3,00,000</option>
                            <option value="3L-5L">₹3,00,000 - ₹5,00,000</option>
                            <option value="5L+">₹5,00,000+</option>
                        </select>
                    </div>
                    <div>
                        <label for="message" class="block text-sm font-medium text-gray-300 mb-1">Message</label>
                        <textarea id="message" rows="4" class="w-full py-3 px-4 rounded-lg bg-gray-800 text-white border border-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500"></textarea>
                    </div>
                    <div class="space-y-4">
                        <div class="flex items-start">
                            <input id="consent-comm" type="checkbox" class="h-4 w-4 mt-1 rounded border-gray-600 bg-gray-700 text-blue-500 focus:ring-blue-500" required>
                            <label for="consent-comm" class="ml-3 text-sm text-gray-300">I agree to receive communications from My Souk.</label>
                        </div>
                        <div class="flex items-start">
                            <input id="consent-data" type="checkbox" class="h-4 w-4 mt-1 rounded border-gray-600 bg-gray-700 text-blue-500 focus:ring-blue-500" required>
                            <label for="consent-data" class="ml-3 text-sm text-gray-300">I agree to the processing of my data as per the Privacy Policy.</label>
                        </div>
                    </div>
                    <div>
                        <button type="submit" class="w-full px-8 py-3 font-semibold text-black bg-white rounded-full text-lg hover:bg-gray-200 transition-colors duration-300">
                            Send Message
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Placeholder Page (Fallback) -->
        <div id="page-placeholder" data-page="placeholder" class="min-h-screen flex items-center justify-center text-white pt-16 hidden">
            <h1 id="placeholder-title" class="text-4xl font-bold">Page (Coming Soon)</h1>
        </div>
        
    </main>

    <!-- Footer -->
    <footer class="bg-gray-950 text-gray-400 pt-16 pb-8 relative z-10 border-t border-gray-800">
        <div class="max-w-7xl mx-auto px-6 lg:px-8">
            <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-8">
                <!-- Logo & Intro -->
                <div class="col-span-2 lg:col-span-1">
                    <a href="#" onclick="setPage('home', event)" class="font-display text-2xl font-bold text-white mb-4 block" style="font-family: 'Space Grotesk', sans-serif;">
                        My Souk
                    </a>
                    <p class="text-sm">
                        We help SMBs scale online with autonomous AI agents and performance growth loops.
                    </p>
                </div>
    
                <!-- Links -->
                <div>
                    <h3 class="font-display text-sm font-semibold text-white tracking-wider uppercase mb-4">Company</h3>
                    <ul class="space-y-3">
                        <li><a href="#" onclick="setPage('about', event)" class="text-sm hover:text-white transition-colors duration-200">About</a></li>
                        <li><a href="#" onclick="setPage('careers', event)" class="text-sm hover:text-white transition-colors duration-200">Careers</a></li>
                        <li><a href="#" onclick="setPage('placeholder', event)" class="text-sm hover:text-white transition-colors duration-200">Planet+People</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="font-display text-sm font-semibold text-white tracking-wider uppercase mb-4">Services</h3>
                    <ul class="space-y-3">
                        <li><a href="#" onclick="setPage('services', event)" class="text-sm hover:text-white transition-colors duration-200">AI Customer Support</a></li>
                        <li><a href="#" onclick="setPage('services', event)" class="text-sm hover:text-white transition-colors duration-200">Predictive Sales AI</a></li>
                        <li><a href="#" onclick="setPage('services', event)" class="text-sm hover:text-white transition-colors duration-200">Operations Automation</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="font-display text-sm font-semibold text-white tracking-wider uppercase mb-4">Content</h3>
                    <ul class="space-y-3">
                        <li><a href="#" onclick="setPage('work', event)" class="text-sm hover:text-white transition-colors duration-200">Work</a></li>
                        <li><a href="#" onclick="setPage('thinking', event)" class="text-sm hover:text-white transition-colors duration-200">Thinking</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="font-display text-sm font-semibold text-white tracking-wider uppercase mb-4">Connect</h3>
                    <ul class="space-y-3">
                        <li><a href="#" onclick="setPage('contact', event)" class="text-sm hover:text-white transition-colors duration-200">Contact</a></li>
                        <li><a href="#" onclick="setPage('contact', event)" class="text-sm hover:text-white transition-colors duration-200">India</a></li>
                    </ul>
                </div>
            </div>
    
            <!-- Bottom Bar -->
            <div class="mt-16 pt-8 border-t border-gray-800 flex flex-col md:flex-row justify-between items-center">
                <div class="text-sm">
                    &copy; <span id="copyright-year">2025</span> My Souk. All rights reserved.
                </div>
                <div class="flex items-center space-x-4 mt-4 md:mt-0">
                    <a href="#" class="hover:text-white transition-colors">Privacy Policy</a>
                    <a href="#" class="hover:text-white transition-colors">Cookie Policy</a>
                    <div class="flex space-x-4">
                        <a href="#" class="hover:text-white transition-colors" aria-label="LinkedIn">
                            <!-- LinkedIn SVG -->
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path>
                                <rect x="2" y="9" width="4" height="12"></rect>
                                <circle cx="4" cy="4" r="2"></circle>
                            </svg>
                        </a>
                        <a href="#" class="hover:text-white transition-colors" aria-label="Instagram">
                            <!-- Instagram SVG -->
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect>
                                <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path>
                                <line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>
                            </svg>
                        </a>
                        <a href="#" class="hover:text-white transition-colors" aria-label="GitHub">
                            <!-- GitHub SVG -->
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
                            </svg>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- 3. Main JavaScript Logic -->
    <script>
        // --- MOCK CMS DATA ---
        const MOCK_CASE_STUDIES = [
            { id: 'ai-powered-ecommerce', client: 'The Local Weaver', title: 'AI-Powered E-commerce Automation', tags: ['E-commerce', 'AI Agents', 'India'], coverImage: 'https://placehold.co/600x400/1a1a2e/e0e0e0?text=The+Local+Weaver', summary: '+32% conversion lift', year: 2025, services: ['ai-customer-support', 'operations-automation'], industry: 'retail' },
            { id: 'predictive-sales-ai', client: 'Jaipur Gems', title: 'Predictive Sales AI for High-Value Retail', tags: ['Retail', 'Predictive AI', 'Global'], coverImage: 'https://placehold.co/600x400/2a2a3e/e0e0e0?text=Jaipur+Gems', summary: '+25% AOV', year: 2025, services: ['predictive-sales-ai'], industry: 'luxury-goods' },
            { id: 'whatsapp-commerce-sync', client: 'Daily Harvest Grocers', title: 'WhatsApp Commerce & POS Synchronization', tags: ['Grocery', 'WhatsApp', 'India'], coverImage: 'https://placehold.co/600x400/3a3a4e/e0e0e0?text=Daily+Harvest', summary: '98% order accuracy', year: 2024, services: ['telegram-whatsapp-commerce', 'google-sheets-pos-sync'], industry: 'grocery' },
            { id: 'local-seo-automation', client: 'Bistro Meals', title: 'Local SEO & Performance Media Automation', tags: ['Food & Beverage', 'SEO', 'India'], coverImage: 'https://placehold.co/600x400/1a1a2e/e0e0e0?text=Bistro+Meals', summary: '3.5x ROAS', year: 2024, services: ['local-seo-performance-media'], industry: 'hospitality' },
            { id: 'automated-support-system', client: 'CraftsIndia', title: '24/7 AI Support Agent Implementation', tags: ['E-commerce', 'AI Agents', 'India'], coverImage: 'https://placehold.co/600x400/2a2a3e/e0e0e0?text=CraftsIndia', summary: '95% CSAT score', year: 2025, services: ['ai-customer-support'], industry: 'retail' },
            { id: 'inventory-automation', client: 'AutoParts Ltd.', title: 'Real-time Inventory & Operations Automation', tags: ['Automotive', 'Automation', 'India'], coverImage: 'https://placehold.co/600x400/3a3a4e/e0e0e0?text=AutoParts+Ltd.', summary: '40% reduction in stockouts', year: 2024, services: ['operations-automation', 'google-sheets-pos-sync'], industry: 'automotive' },
        ];

        const MOCK_SERVICES_MENU = {
            'marketing-communications': { name: 'Marketing + Communications', items: [ { name: 'Brand Strategy', slug: '/services/brand-strategy' }, { name: 'Advertising & Content', slug: '/services/advertising-content' }, { name: 'Social & Creator', slug: '/services/social-creator' }, { name: 'PR & Reputation', slug: '/services/pr-reputation' }, { name: 'Experiential', slug: '/services/experiential' }, { name: 'Branding & Design', slug: '/services/branding-design' }, { name: 'Production', slug: '/services/production' } ] },
            'experience-technology': { name: 'Experience, Technology + Consulting', items: [ { name: 'Audience & Insights', slug: '/services/audience-insights' }, { name: 'Data & Measurement', slug: '/services/data-measurement' }, { name: 'Growth & Innovation', slug: '/services/growth-innovation' }, { name: 'UX/CX/CRM/Loyalty', slug: '/services/ux-cx-crm' } ] },
            'media-sponsorship': { name: 'Media + Sponsorship', items: [ { name: 'Performance & Retail Media', slug: '/services/performance-media' }, { name: 'Sponsorships & Rights', slug: '/services/sponsorships' } ] },
            'specialist': { name: 'Specialist', items: [ { name: 'Talent', slug: '/services/talent' }, { name: 'Sport & Entertainment', slug: '/services/sport-entertainment' }, { name: 'Global & Social Issues', slug: '/services/social-issues' } ] },
        };

        const MOCK_FILTERS = {
            industry: [ { value: 'all', label: 'All Industries' }, { value: 'retail', label: 'Retail' }, { value: 'luxury-goods', label: 'Luxury Goods' }, { value: 'grocery', label: 'Grocery' }, { value: 'hospitality', label: 'Hospitality' }, { value: 'automotive', label: 'Automotive' } ],
            services: [ { value: 'all', label: 'All Services' }, { value: 'ai-customer-support', label: 'AI Customer Support' }, { value: 'operations-automation', label: 'Operations Automation' }, { value: 'predictive-sales-ai', label: 'Predictive Sales AI' }, { value: 'telegram-whatsapp-commerce', label: 'WhatsApp Commerce' }, { value: 'google-sheets-pos-sync', label: 'POS Sync' }, { value: 'local-seo-performance-media', label: 'Local SEO' } ],
            year: [ { value: 'all', label: 'All Years' }, { value: '2025', label: '2025' }, { value: '2024', label: '2024' } ],
        };
        
        let activeFilters = {
            industry: 'all',
            services: 'all',
            year: 'all',
            search: '',
        };
        
        // --- Page Navigation ---
        const allPages = document.querySelectorAll('[data-page]');
        const placeholderTitle = document.getElementById('placeholder-title');
        
        function setPage(pageId, eventOrCaseId, event) {
            // Handle optional event argument
            let evt = event ? event : (eventOrCaseId && typeof eventOrCaseId.preventDefault === 'function' ? eventOrCaseId : null);
            if (evt) {
                evt.preventDefault();
            }

            // Hide all pages
            allPages.forEach(p => p.classList.add('hidden'));
            
            let pageToShow = document.getElementById(`page-${pageId}`);
            
            if (pageToShow) {
                pageToShow.classList.remove('hidden');
                
                if (pageId === 'work') {
                    renderWorkPage();
                } else if (pageId === 'case-study') {
                    const caseId = typeof eventOrCaseId === 'string' ? eventOrCaseId : null;
                    if (caseId) {
                        renderCaseStudyPage(caseId);
                    }
                }
            } else {
                // Show placeholder page as a fallback
                pageToShow = document.getElementById('page-placeholder');
                placeholderTitle.textContent = `${pageId.charAt(0).toUpperCase() + pageId.slice(1)} Page (Coming Soon)`;
                pageToShow.classList.remove('hidden');
            }
            
            // Close menus
            toggleMobileMenu(false);
            toggleMegaMenu(false);
            
            // Scroll to top
            window.scrollTo(0, 0);
        }

        // --- Header Logic ---
        const header = document.getElementById('main-header');
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        const mobileMenuIconOpen = document.getElementById('mobile-menu-icon-open');
        const mobileMenuIconClose = document.getElementById('mobile-menu-icon-close');
        
        const megaMenuTrigger = document.getElementById('services-menu-trigger');
        const megaMenu = document.getElementById('mega-menu');
        let megaMenuTimer = null;

        function toggleMobileMenu(forceState) {
            const isOpen = forceState !== undefined ? forceState : mobileMenu.classList.contains('hidden');
            mobileMenu.classList.toggle('hidden', !isOpen);
            mobileMenuIconOpen.classList.toggle('hidden', isOpen);
            mobileMenuIconClose.classList.toggle('hidden', !isOpen);
        }
        
        function toggleMegaMenu(show) {
             megaMenu.classList.toggle('hidden', !show);
        }
        
        function populateMegaMenu() {
            const content = document.getElementById('mega-menu-content');
            content.innerHTML = '';
            Object.values(MOCK_SERVICES_MENU).forEach(category => {
                const itemsHTML = category.items.map(item => `
                    <li key="${item.name}">
                        <a href="#" onclick="setPage('services', event)" class="relative text-gray-400 hover:text-white transition-colors duration-200 group">
                            ${item.name}
                            <span class="absolute -bottom-0.5 left-0 w-0 h-px bg-gradient-to-r from-blue-400 to-green-400 transition-all duration-300 group-hover:w-1/2"></span>
                        </a>
                    </li>
                `).join('');
                
                content.innerHTML += `
                    <div>
                        <h3 class="font-display font-semibold text-white mb-4">${category.name}</h3>
                        <ul class="space-y-3">${itemsHTML}</ul>
                    </div>
                `;
            });
        }
        
        // --- Work Page Logic ---
        const workGrid = document.getElementById('work-grid');
        const emptyState = document.getElementById('work-empty-state');
        const searchInput = document.getElementById('filter-search');
        const filtersDesktop = document.getElementById('filters-desktop');
        const filtersMobile = document.getElementById('filters-mobile');
        const mobileFilterCount = document.getElementById('mobile-filter-count');

        function createCaseCardHTML(caseStudy) {
            const tagsHTML = caseStudy.tags.slice(0, 2).map(tag => `
                <span class="px-2 py-0.5 bg-white/10 backdrop-blur-sm text-white text-xs font-medium rounded-full">${tag}</span>
            `).join(' ');

            return `
                <div class="group relative overflow-hidden rounded-2xl shadow-lg">
                    <a href="#" onclick="setPage('case-study', '${caseStudy.id}', event)" class="block">
                        <div class="overflow-hidden">
                            <img src="${caseStudy.coverImage}" alt="${caseStudy.title}" class="w-full h-64 object-cover transition-transform duration-500 ease-in-out group-hover:scale-110">
                        </div>
                        <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/0 to-black/0 transition-opacity duration-300 opacity-0 group-hover:opacity-100"></div>
                        <div class="absolute inset-0 p-6 flex flex-col justify-end">
                            <div class="transform translate-y-8 group-hover:translate-y-0 transition-all duration-500 ease-in-out">
                                <h3 class="font-display text-lg font-semibold text-white" style="font-family: 'Space Grotesk', sans-serif;">
                                    ${caseStudy.client}
                                </h3>
                                <h2 class="text-xl font-medium text-white mb-2 line-clamp-2">${caseStudy.title}</h2>
                                <div class="flex flex-wrap gap-2 mb-4 opacity-100 group-hover:opacity-0 transition-opacity duration-300">
                                    ${tagsHTML}
                                </div>
                                <div class="absolute bottom-6 left-6 opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                                    <p class="text-xl font-bold text-white bg-clip-text text-transparent bg-gradient-to-r from-blue-400 via-purple-400 to-green-400">
                                        ${caseStudy.summary}
                                    </p>
                                </div>
                            </div>
                        </div>
                    </a>
                </div>
            `;
        }

        function renderWorkPage() {
            const filteredCases = MOCK_CASE_STUDIES.filter(c => {
                const searchMatch = c.title.toLowerCase().includes(activeFilters.search.toLowerCase()) || 
                                    c.client.toLowerCase().includes(activeFilters.search.toLowerCase());
                const industryMatch = activeFilters.industry === 'all' || c.industry === activeFilters.industry;
                const serviceMatch = activeFilters.services === 'all' || c.services.includes(activeFilters.services);
                const yearMatch = activeFilters.year === 'all' || c.year.toString() === activeFilters.year;
                
                return searchMatch && industryMatch && serviceMatch && yearMatch;
            });

            if (filteredCases.length > 0) {
                workGrid.innerHTML = filteredCases.map(createCaseCardHTML).join('');
                workGrid.classList.remove('hidden');
                emptyState.classList.add('hidden');
            } else {
                workGrid.innerHTML = '';
                workGrid.classList.add('hidden');
                emptyState.classList.remove('hidden');
            }
        }
        
        function populateFilters() {
            let desktopHTML = '';
            let mobileHTML = '';
            
            Object.keys(MOCK_FILTERS).forEach(key => {
                const options = MOCK_FILTERS[key].map(option => 
                    `<option value="${option.value}">${option.label}</option>`
                ).join('');

                desktopHTML += `
                    <select name="${key}" data-filter-type="${key}" class="filter-select bg-gray-800 border border-gray-700 text-white text-sm rounded-full py-2 px-4 focus:outline-none focus:ring-2 focus:ring-blue-500 appearance-none">
                        ${options}
                    </select>
                `;
                
                mobileHTML += `
                    <div>
                        <label for="mobile-${key}" class="block text-sm font-medium text-gray-400 mb-2 capitalize">${key}</label>
                        <select name="mobile-${key}" data-filter-type="${key}" class="filter-select w-full bg-gray-800 border border-gray-700 text-white text-sm rounded-lg py-3 px-4 focus:outline-none focus:ring-2 focus:ring-blue-500 appearance-none">
                            ${options}
                        </select>
                    </div>
                `;
            });
            
            filtersDesktop.innerHTML = desktopHTML;
            filtersMobile.innerHTML = mobileHTML;
        }
        
        function handleFilterChange(event) {
            const type = event.target.dataset.filterType;
            const value = event.target.value;
            
            activeFilters[type] = value;
            
            // Sync all filter controls
            document.querySelectorAll(`.filter-select[data-filter-type="${type}"]`).forEach(select => {
                select.value = value;
            });
            
            const count = Object.values(activeFilters).filter(v => v !== 'all' && v !== '').length;
            mobileFilterCount.textContent = `(${count})`;
            
            renderWorkPage();
        }

        function toggleMobileFilters(show) {
            document.getElementById('mobile-filter-modal').classList.toggle('hidden', !show);
        }

        // --- Case Study Page Logic ---
        function renderCaseStudyPage(caseId) {
            const caseStudy = MOCK_CASE_STUDIES.find(c => c.id === caseId);
            if (!caseStudy) {
                setPage('work'); // Go back to work page if not found
                return;
            }
            
            document.getElementById('case-hero-image').src = caseStudy.coverImage.replace('400', '800');
            document.getElementById('case-hero-image').alt = caseStudy.title;
            document.getElementById('case-client').textContent = caseStudy.client;
            document.getElementById('case-title').textContent = caseStudy.title;
            document.getElementById('case-summary').textContent = caseStudy.summary;
            document.getElementById('case-testimonial-name').textContent = "Client Name";
            document.getElementById('case-testimonial-role').textContent = `CEO, ${caseStudy.client}`;

            // Next/Prev Nav
            const currentIndex = MOCK_CASE_STUDIES.findIndex(c => c.id === caseId);
            const prevCase = MOCK_CASE_STUDIES[currentIndex - 1];
            const nextCase = MOCK_CASE_STUDIES[currentIndex + 1];

            const prevLink = document.getElementById('case-prev');
            const prevPlaceholder = document.getElementById('case-prev-placeholder');
            const nextLink = document.getElementById('case-next');
            
            if (prevCase) {
                prevLink.href = `#`;
                prevLink.setAttribute('onclick', `setPage('case-study', '${prevCase.id}', event)`);
                document.getElementById('case-prev-title').textContent = prevCase.title;
                prevLink.classList.remove('hidden');
                prevPlaceholder.classList.add('hidden');
            } else {
                prevLink.classList.add('hidden');
                prevPlaceholder.classList.remove('hidden');
            }
            
            if (nextCase) {
                nextLink.href = `#`;
                nextLink.setAttribute('onclick', `setPage('case-study', '${nextCase.id}', event)`);
                document.getElementById('case-next-title').textContent = nextCase.title;
                nextLink.classList.remove('hidden');
            } else {
                nextLink.classList.add('hidden');
            }
        }
        
        // --- Particle Background Logic ---
        function initParticles() {
            const canvas = document.getElementById('particle-canvas');
            if (!canvas) return;
            const ctx = canvas.getContext('2d');
            if (!ctx) return;

            let particles = [];
            let animationFrameId;

            const resizeCanvas = () => {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            };
            resizeCanvas();

            class Particle {
                constructor(x, y) {
                    this.x = x;
                    this.y = y;
                    this.size = Math.random() * 2 + 1;
                    this.speedX = Math.random() * 1 - 0.5;
                    this.speedY = Math.random() * 1 - 0.5;
                    this.color = 'rgba(0, 255, 150, 0.5)'; // AI Green
                }
                update() {
                    if (this.x > canvas.width || this.x < 0) this.speedX *= -1;
                    if (this.y > canvas.height || this.y < 0) this.speedY *= -1;
                    this.x += this.speedX;
                    this.y += this.speedY;
                }
                draw() {
                    ctx.fillStyle = this.color;
                    ctx.beginPath();
                    ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                    ctx.fill();
                }
            }

            function init() {
                particles = [];
                let numberOfParticles = (canvas.width * canvas.height) / 9000;
                for (let i = 0; i < numberOfParticles; i++) {
                    let x = Math.random() * canvas.width;
                    let y = Math.random() * canvas.height;
                    particles.push(new Particle(x, y));
                }
            }

            function animate() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                for (let i = 0; i < particles.length; i++) {
                    particles[i].update();
                    particles[i].draw();
                }
                connect();
                animationFrameId = requestAnimationFrame(animate);
            }

            function connect() {
                let opacityValue = 1;
                for (let a = 0; a < particles.length; a++) {
                    for (let b = a; b < particles.length; b++) {
                        let distance = (particles[a].x - particles[b].x) * (particles[a].x - particles[b].x) + (particles[a].y - particles[b].y) * (particles[a].y - particles[b].y);
                        if (distance < (canvas.width / 7) * (canvas.height / 7)) {
                            opacityValue = 1 - distance / 20000;
                            let gradient = ctx.createLinearGradient(particles[a].x, particles[a].y, particles[b].x, particles[b].y);
                            gradient.addColorStop(0, `rgba(0, 150, 255, ${opacityValue * 0.2})`);
                            gradient.addColorStop(0.5, `rgba(150, 0, 255, ${opacityValue * 0.2})`);
                            gradient.addColorStop(1, `rgba(0, 255, 150, ${opacityValue * 0.2})`);
                            ctx.strokeStyle = gradient;
                            ctx.lineWidth = 1;
                            ctx.beginPath();
                            ctx.moveTo(particles[a].x, particles[a].y);
                            ctx.lineTo(particles[b].x, particles[b].y);
                            ctx.stroke();
                        }
                    }
                }
            }

            const handleResize = () => {
                resizeCanvas();
                init();
            };
            
            window.addEventListener('resize', handleResize);
            init();
            animate();
        }

        // --- App Initialization ---
        document.addEventListener('DOMContentLoaded', () => {
            initParticles();
            populateMegaMenu();
            populateFilters();
            renderWorkPage(); // Initial render for the work page
            
            // Set dynamic copyright year
            document.getElementById('copyright-year').textContent = new Date().getFullYear();

            // --- Event Listeners ---
            
            // Header
            mobileMenuButton.addEventListener('click', () => toggleMobileMenu());
            
            megaMenuTrigger.addEventListener('mouseenter', () => {
                clearTimeout(megaMenuTimer);
                toggleMegaMenu(true);
            });
            megaMenuTrigger.addEventListener('mouseleave', () => {
                 megaMenuTimer = setTimeout(() => toggleMegaMenu(false), 200);
            });
            megaMenu.addEventListener('mouseenter', () => clearTimeout(megaMenuTimer));
            megaMenu.addEventListener('mouseleave', () => {
                megaMenuTimer = setTimeout(() => toggleMegaMenu(false), 200);
            });
            header.addEventListener('mouseleave', () => {
                 megaMenuTimer = setTimeout(() => toggleMegaMenu(false), 200);
            });
            
            // Work Filters
            document.querySelectorAll('.filter-select').forEach(sel => {
                sel.addEventListener('change', handleFilterChange);
            });
            searchInput.addEventListener('input', (e) => {
                activeFilters.search = e.target.value;
                renderWorkPage();
            });
            
            document.getElementById('mobile-filter-button').addEventListener('click', () => toggleMobileFilters(true));
            document.getElementById('reset-filters-button').addEventListener('click', () => {
                activeFilters = { industry: 'all', services: 'all', year: 'all', search: '' };
                document.querySelectorAll('.filter-select').forEach(sel => sel.value = 'all');
                searchInput.value = '';
                mobileFilterCount.textContent = '(0)';
                renderWorkPage();
            });
            
            // Handle browser back/forward (simple version)
            // This is complex in vanilla JS without a real router.
            // We'll keep it simple: all links just reset the page state.
        });
    </script>

</body>
</html>
